<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="output.css" rel="stylesheet" />
    <link rel="icon" href="/icons/32x32.png" type="image/x-icon">
    <link rel="manifest" href="manifest.json" />
    <title>focustube</title>
    <style>
      .main_player {
        background-color: #281e3e4e;
      }
    </style>
  </head>

  <body class="bg-gray-900">
    <div id="youtube-player-container" class="invisible hidden">
      <!-- hidden invisible  -->
      <!-- iframe replaces this -->
      <div
        id="player"
        class="z-50 fixed top-0 bottom-0 left-0 right-0 main_player"
      ></div>
      <script>
        // 2. This code loads the IFrame Player API code asynchronously.
        var tag = document.createElement("script");
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName("script")[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
      </script>
    </div>

    <div
      class="z-10 flex flex-col items-center justify-start w-screen px-2 home-container"
    >
      <!-- Category -->
      <div class="w-full max-w-2xl p-4 mx-2 bg-gray-800 rounded-lg mt-11">
        <strong class="text-gray-400 sm:text-xl"> Category </strong>
        <!-- category-container -->
        <ul id="category_list" class="flex flex-col mt-4 space-y-1">
          <li class="p-2 text-gray-100 bg-gray-700 rounded-lg category-item">
            <div
              class="flex items-center justify-between text-base font-semibold tracking-wide"
            >
              <span class="capitalize text-lg">${category_name} </span>
              <div>
                <button
                  data-index="${index}"
                  class="p-1 border border-gray-600 rounded-full edit"
                >
                  ðŸ–‹
                </button>
                <button
                  data-index="${index}"
                  class="p-1 border border-gray-600 rounded-full delete"
                >
                  &#x1F5D1;
                </button>
              </div>
            </div>
            <div class="flex items-center justify-center mt-1">
              <input
                id=""
                class="flex-grow p-1 mr-1 text-white bg-gray-600 border border-gray-500 rounded-lg sm:p-2 sm:mr-2 sm:text-lg focus:outline-none"
                placeholder="Enter any YouTube link or Video Id"
              />
              <button
                data-index="${index}"
                class="flex-shrink p-1 mr-1 text-white bg-blue-700 rounded-lg sm:px-4 sm:py-2 sm:mr-2 sm:text-xl"
              >
                Go
              </button>
              <button
                data-index="${index}"
                data-seekTo="${seekTo}"
                data-vidId="${yt_vid_id}"
                class="p-1 text-white bg-green-700 rounded-lg sm:p-2 sm:text-xl"
              >
                Continue
              </button>
            </div>
          </li>
        </ul>
        <!-- Add New Category -->
        <div
          class="relative flex max-w-xs mt-4 border-2 border-gray-600 rounded-full"
        >
          <input
            id="new_category_name"
            class="flex-grow p-2 text-white bg-gray-700 border border-gray-700 rounded-full sm:text-lg focus:outline-none"
            placeholder="Enter New Category"
          />
          <button
            id="add_category_btn"
            class="z-10 absolute right-0 px-4 py-2 text-white bg-green-700 rounded-full sm:text-xl"
          >
            +
          </button>
        </div>
      </div>

      <!-- go to Home btn -->
      <div class="fixed z-50 go-back-home top-16 left-2">
        <button
          id="back-to-home"
          class="p-2 text-white bg-green-800 rounded-full opacity-30 transition-opacity duration-300"
        >
          Go Back
        </button>
        <script>
          const button = document.getElementById("back-to-home");
          let timeoutId; // To store the timeout ID
          document.addEventListener("mousemove", () => {
            clearTimeout(timeoutId); // Clear the previous timeout
            button.classList.remove("opacity-30");
            button.classList.add("opacity-75");

            // Set a new timeout to change the opacity back to 50% after 1 second (adjust as needed)
            timeoutId = setTimeout(() => {
              button.classList.remove("opacity-75");
              button.classList.add("opacity-30");
            }, 1000); // Change opacity back after 1 second of mouse inactivity
          });
        </script>
      </div>
    </div>
  </body>
</html>

<script type="module" src="./index.js"></script>
